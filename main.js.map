{"version":3,"file":"main.js","mappings":"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","sources":["webpack://mesto-project-ff/./src/components/modal.js","webpack://mesto-project-ff/./src/api.js","webpack://mesto-project-ff/./src/components/card.js","webpack://mesto-project-ff/./src/validation.js","webpack://mesto-project-ff/./src/index.js"],"sourcesContent":["export { openPopup, closePopup }\r\n\r\nfunction openPopup(popupElem) {\r\n    popupElem.classList.add('popup_is-opened');\r\n    \r\n    document.addEventListener( 'click', closeOnClickHandle );\r\n    document.addEventListener( 'keydown', closeOnEscPressHandle );\r\n}\r\n\r\nfunction closePopup(popupElem) {\r\n    popupElem.classList.remove('popup_is-opened');\r\n\r\n    document.removeEventListener( 'click', closeOnClickHandle );\r\n    document.removeEventListener( 'keydown', closeOnEscPressHandle );\r\n}\r\n\r\nfunction closeOnClickHandle(evt) {\r\n    if (evt.target.classList.contains('popup__close') || evt.target.classList.contains('popup')) closePopup(document.querySelector('.popup_is-opened'));\r\n}\r\n\r\nfunction closeOnEscPressHandle(evt) {\r\n    if (evt.key === 'Escape') closePopup(document.querySelector('.popup_is-opened'));\r\n};\r\n\r\n","export { initProfileSection, getInitialCards, sendProfileData, sendCardData, deleteCard, likeCard, unLikeCard, setNewAvatar, isUrlExist };\r\n\r\nconst config = {\r\n    baseUrl: 'https://nomoreparties.co/v1/wff-cohort-12',\r\n    headers: {\r\n      authorization: 'aefb9d6c-0be1-424f-9825-78d813242522',\r\n      'Content-Type': 'application/json'\r\n    }\r\n  }\r\n\r\nfunction handleResponse(res){\r\n    if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(`Ошибка: ${res.status}`);\r\n}\r\n\r\nfunction initProfileSection() {\r\n    return fetch(`${config.baseUrl}/users/me`, {\r\n        method: 'GET',\r\n        headers: config.headers,\r\n    })\r\n    .then(handleResponse)\r\n    .catch((err) => {\r\n        console.log(err);\r\n    }); \r\n}\r\n\r\nfunction getInitialCards() {\r\n    return fetch(`${config.baseUrl}/cards`, {\r\n        method: 'GET',\r\n        headers: config.headers,\r\n    })\r\n    .then(handleResponse)\r\n    .catch((err) => {\r\n        console.log(err);\r\n    });\r\n}\r\n\r\nfunction sendProfileData(name, about) {\r\n    return fetch(`${config.baseUrl}/users/me`, {\r\n        method: 'PATCH',\r\n        headers: config.headers,\r\n        body: JSON.stringify({\r\n            name: `${name}`,\r\n            about: `${about}`\r\n        })\r\n    })\r\n    .then(handleResponse)\r\n    .catch((err) => {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\nfunction sendCardData(name, link) {\r\n    return fetch(`${config.baseUrl}/cards`, {\r\n        method: 'POST',\r\n        headers: config.headers,\r\n        body: JSON.stringify({\r\n            name: `${name}`,\r\n            link: `${link}`\r\n          })\r\n    })\r\n    .then(handleResponse)\r\n    .catch((err) => {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\nfunction deleteCard(cardId) {\r\n    return fetch(`${config.baseUrl}/cards/${cardId}`, {\r\n        method: 'DELETE',\r\n        headers: config.headers,\r\n    })\r\n}\r\n\r\nfunction likeCard(cardId) {\r\n    return fetch(`${config.baseUrl}/cards/likes/${cardId}`, {\r\n        method: 'PUT',\r\n        headers: config.headers,\r\n    })\r\n    .then(handleResponse)\r\n    .catch((err) => {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\nfunction unLikeCard(cardId) {\r\n    return fetch(`${config.baseUrl}/cards/likes/${cardId}`, {\r\n        method: 'DELETE',\r\n        headers: config.headers,\r\n    })\r\n    .then(handleResponse)\r\n    .catch((err) => {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\nfunction setNewAvatar(avatarUrl) {\r\n    return fetch(`${config.baseUrl}/users/me/avatar`, {\r\n        method: 'PATCH',\r\n        headers: config.headers,\r\n        body: JSON.stringify({\r\n            avatar: `${avatarUrl}`\r\n        })\r\n    })\r\n    .then(handleResponse)\r\n    .catch((err) => {\r\n        console.log(err);\r\n    })\r\n}\r\n\r\nfunction isUrlExist(avatarUrl) {\r\n    return fetch(`${avatarUrl}`, {\r\n        method: 'HEAD'\r\n    })\r\n}\r\n","export { createCardElem, handleLikeClick };\r\nimport { openPopup } from './modal';\r\nimport { likeCard, unLikeCard } from '../api';\r\n\r\nfunction createCardElem( name, picture, setImageTypePopup, handleLikeClick, likesQuantityValue, matchIdResult, cardId, isLikedByMe, popupTypeDeleteConfirm, deleteConfirmButton) {\r\n    const cardTemplate = document.querySelector('#card-template').content;\r\n    const placesItemClone = cardTemplate.cloneNode('#card-template');\r\n    const likeButton = placesItemClone.querySelector('.card__like-button');\r\n    const cardImage = placesItemClone.querySelector('.card__image');\r\n    const cardTitle = placesItemClone.querySelector('.card__title');\r\n    const deleteButton = placesItemClone.querySelector('.card__delete-button');\r\n    const likesQuantityElem = document.createElement('div');\r\n    const likesContainer = placesItemClone.querySelector('.card__likes-container');\r\n    const placesItem = placesItemClone.querySelector('.places__item')\r\n\r\n    cardTitle.textContent = name;\r\n    cardImage.src = picture;\r\n    cardImage.alt = name;\r\n    placesItem.setAttribute('id', `${cardId}`)\r\n\r\n    if(isLikedByMe) likeButton.classList.toggle('card__like-button_is-active')\r\n\r\n    if(likesQuantityValue) {\r\n        likesQuantityElem.textContent = likesQuantityValue;\r\n        likesContainer.append(likesQuantityElem)\r\n    }\r\n\r\n    if(matchIdResult) {\r\n        deleteButton.style.display = 'inline-block';\r\n    }\r\n\r\n    deleteButton.addEventListener('click', (evt) => {\r\n        openPopup(popupTypeDeleteConfirm);\r\n        const cardToDelete = evt.target.closest('li');\r\n        const cardId = cardToDelete.getAttribute('id');\r\n        deleteConfirmButton.setAttribute('data-card-to-delete-id', `${cardId}`)\r\n    });\r\n\r\n    cardImage.addEventListener('click', setImageTypePopup);\r\n    likeButton.addEventListener('click', (evt) => handleLikeClick(evt, cardId, likesQuantityElem, likesContainer));\r\n    \r\n    return placesItemClone;\r\n}\r\n\r\nfunction handleLikeClick(evt, cardId, likesQuantityElem, likesContainer) {\r\n    if(!evt.target.classList.contains('card__like-button_is-active')) {\r\n        likeCard(cardId)\r\n        .then((result) => {\r\n            evt.target.classList.toggle('card__like-button_is-active');\r\n            if(result.likes.length === 1) likesContainer.append(likesQuantityElem);\r\n            likesQuantityElem.textContent = result.likes.length;\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n    } else {\r\n        unLikeCard(cardId)\r\n        .then((result) => {\r\n            evt.target.classList.toggle('card__like-button_is-active');\r\n            if(result.likes.length === 0) likesQuantityElem.remove();\r\n            likesQuantityElem.textContent = result.likes.length;\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n    }\r\n  }\r\n\r\n\r\n\r\n","export { enableValidation, clearValidation }\r\n\r\nfunction showInputError(errElement, formField, inputErrorClass) {\r\n    formField.classList.add(inputErrorClass);\r\n\r\n    if( formField.validity.patternMismatch ) {\r\n        formField.setCustomValidity(formField.getAttribute('data-error-message'));\r\n    } else {\r\n        formField.setCustomValidity('');\r\n    }\r\n\r\n    errElement.textContent = formField.validationMessage;\r\n}\r\n\r\nfunction hideInputError(errElement, formField, inputErrorClass) {\r\n    formField.classList.remove(inputErrorClass);\r\n    errElement.textContent = '';\r\n}\r\n\r\nfunction hasInvalid(form, formFieldSelector) {\r\n    const formFieldsArr = Array.from(form.querySelectorAll(`.${formFieldSelector}`));\r\n    return formFieldsArr.some((formField) => {\r\n        if(!formField.validity.valid) {\r\n            return true\r\n        }\r\n    })\r\n}\r\n\r\nfunction toggleButtonState(containsElement, inactiveButtonClass, ButtonClass, formFieldSelector) {\r\n    const button = containsElement.querySelector(`.${ButtonClass}`);\r\n    if(hasInvalid(containsElement, formFieldSelector)) {\r\n        button.classList.add(inactiveButtonClass);\r\n        button.setAttribute('disabled', '');\r\n    } else {\r\n        button.classList.remove(inactiveButtonClass);\r\n        button.removeAttribute('disabled', '');\r\n    }\r\n}\r\n\r\nfunction isValid(form, formField, inputErrorClass) {\r\n    const errElement = form.querySelector(`.${formField.id}-error`);\r\n    \r\n    if(formField.validity.valid) {\r\n        hideInputError(errElement, formField, inputErrorClass)\r\n    } else {\r\n        showInputError(errElement, formField, inputErrorClass)\r\n    }\r\n}\r\n\r\nfunction setEventListeners(form, inputErrorClass, inputSelector, inactiveButtonClass, ButtonClass) {\r\n    const formFieldsList = form.querySelectorAll(`.${inputSelector}`)\r\n\r\n    formFieldsList.forEach((formField) => formField.addEventListener('input', () => {\r\n        isValid(form, formField, inputErrorClass);\r\n        toggleButtonState(form, inactiveButtonClass, ButtonClass, inputSelector)\r\n    }))\r\n}\r\n\r\nfunction enableValidation(configObj) {\r\n    const formsArr = document.querySelectorAll(`.${configObj.formSelector}`);\r\n\r\n    formsArr.forEach((form) => {\r\n        setEventListeners(form, configObj.inputErrorClass, configObj.inputSelector, configObj.inactiveButtonClass, configObj.submitButtonSelector)\r\n    })\r\n}\r\n\r\nfunction clearValidation(form, configObj) {\r\n    toggleButtonState(form, configObj.inactiveButtonClass, configObj.submitButtonSelector, configObj.inputSelector)\r\n    const formFieldsList = form.querySelectorAll(`.${configObj.inputSelector}`);\r\n    formFieldsList.forEach((formField) => {\r\n        const errElement = form.querySelector(`.${formField.id}-error`)\r\n        hideInputError(errElement, formField, configObj.inputErrorClass)\r\n    })\r\n}","import '../src/pages/index.css';\r\nimport { createCardElem, handleLikeClick } from './components/card';\r\nimport { openPopup, closePopup } from './components/modal';\r\nimport { enableValidation, clearValidation } from './validation';\r\nimport { initProfileSection, getInitialCards, sendProfileData, sendCardData, setNewAvatar, isUrlExist, deleteCard } from './api';\r\n\r\nconst placesList = document.querySelector('.places__list');\r\nconst editProfileForm = document.forms['edit-profile'];\r\nconst newAvatarForm = document.forms['new-avatar'];\r\nconst avatarUrl = newAvatarForm.link;\r\nconst nameInput = editProfileForm.name;\r\nconst descriptionInput = editProfileForm.description;\r\nconst profileImage = document.querySelector('.profile__image');\r\nconst profileName = document.querySelector('.profile__title');\r\nconst profileDescription = document.querySelector('.profile__description');\r\nconst newPlaceform = document.forms['new-place'];\r\nconst placeFormField = newPlaceform['place-name'];\r\nconst pictureFormField = newPlaceform.link;\r\nconst buttonOpenEditProfileForm = document.querySelector('.profile__edit-button');\r\nconst buttonOpenAddCardForm = document.querySelector('.profile__add-button');\r\nconst popupTypeEdit = document.querySelector('.popup_type_edit');\r\nconst popupTypeNewCard = document.querySelector('.popup_type_new-card');\r\nconst popupTypeImage = document.querySelector('.popup_type_image');\r\nconst popupCaption = document.querySelector('.popup__caption');\r\nconst popupImage = document.querySelector('.popup__image');\r\nconst popupTypeNewAvatar = document.querySelector('.popup_type_new-avatar');\r\nconst popupTypeDeleteConfirm = document.querySelector('.popup_type_delete-confirm');\r\nconst deleteConfirmButton = document.querySelector('.popup__button_delete-confirm');\r\n\r\nconst validationConfig = {\r\n  formSelector: 'popup__form',\r\n  inputSelector: 'popup__input',\r\n  submitButtonSelector: 'popup__button',\r\n  inactiveButtonClass: 'popup__button_disabled',\r\n  inputErrorClass: 'popup__input_invalid',\r\n  errorClass: 'popup__input-error',\r\n}\r\nlet myId;\r\nlet matchIdResult;\r\n\r\nfunction deleteListItem(evt) {\r\n  const cardId = evt.target.getAttribute('data-card-to-delete-id');\r\n  const cardToDelete = document.getElementById(`${cardId}`); //здесь так и не разобрался, почему-то не работает document.querySelector(`#${cardId}`), поэтому оставил getElementById\r\n  deleteCard(cardId)\r\n  .then((res) => {\r\n      if(res.ok) {\r\n        cardToDelete.remove();\r\n        closePopup(popupTypeDeleteConfirm);\r\n      } else {\r\n          return Promise.reject(`Ошибка: ${res.status}`)\r\n      }\r\n  })\r\n  .catch((err) => {\r\n      console.log(err);\r\n  })\r\n};\r\n\r\nfunction setImageTypePopup(evt) {\r\n  popupImage.src = evt.target.src;\r\n  popupImage.alt = evt.target.alt;\r\n  popupCaption.textContent = evt.target.alt;\r\n  openPopup(popupTypeImage);\r\n}\r\n\r\nfunction addNewPlace(evt) {\r\n  changeSubmitBtnState(evt);\r\n  sendCardData(placeFormField.value, pictureFormField.value)\r\n  .then((result) => {\r\n    matchIdResult = myId === result.owner._id;\r\n    const cardId = result._id;\r\n    const newCard = createCardElem( result.name, result.link, setImageTypePopup, handleLikeClick, 0, matchIdResult, cardId, false, popupTypeDeleteConfirm, deleteConfirmButton);\r\n    placesList.prepend(newCard)\r\n  })\r\n  .catch((err) => {\r\n      console.log(err);\r\n    })\r\n  .finally(() => changeSubmitBtnState(evt));\r\n\r\n  evt.target.reset();\r\n  evt.preventDefault();\r\n  closePopup(popupTypeNewCard);\r\n}\r\n\r\nfunction initEditProfileForm() {\r\n  nameInput.value = profileName.textContent;\r\n  descriptionInput.value = profileDescription.textContent;\r\n\r\n  clearValidation(editProfileForm, validationConfig);\r\n}\r\n\r\nfunction handleEditFormSubmit(evt) {\r\n  changeSubmitBtnState(evt);\r\n  sendProfileData(nameInput.value, descriptionInput.value)\r\n  .then((result) => {\r\n    profileName.textContent = result.name;\r\n    profileDescription.textContent = result.about;\r\n  })\r\n  .catch((err) => {\r\n      console.log(err);\r\n    })\r\n  .finally(() => changeSubmitBtnState(evt));\r\n  \r\n  evt.preventDefault();\r\n\r\n  closePopup(popupTypeEdit);\r\n}\r\n\r\nfunction changeSubmitBtnState(evt) {\r\n  const loadingText = evt.target.querySelector(`.popup__button_loading-text`);\r\n  const initialText = evt.target.querySelector(`.popup__button_initial-text`);\r\n  loadingText.classList.toggle('popup_button_text-is-visible')\r\n  initialText.classList.toggle('popup_button_text-is-visible')\r\n}\r\n\r\ndeleteConfirmButton.addEventListener('click', deleteListItem);\r\n\r\nplacesList.addEventListener('click', (evt) => {\r\n    if(evt.target.classList.contains('card__image')) {\r\n        openPopup(popupTypeImage);\r\n    }\r\n})\r\n\r\nprofileImage.addEventListener('click', () => {\r\n  clearValidation(newAvatarForm, validationConfig);\r\n  newAvatarForm.reset()\r\n  openPopup(popupTypeNewAvatar);\r\n});\r\n\r\nbuttonOpenEditProfileForm.addEventListener( 'click', () => {\r\n  initEditProfileForm(nameInput, profileName, descriptionInput, profileDescription);\r\n  openPopup(popupTypeEdit);\r\n} );\r\n\r\nbuttonOpenAddCardForm.addEventListener( 'click', () => {\r\nopenPopup(popupTypeNewCard);\r\nnewPlaceform.reset();\r\nclearValidation(newPlaceform, validationConfig)\r\n} );\r\n\r\nnewAvatarForm.addEventListener('submit', (evt) => {\r\n  evt.preventDefault();\r\n  changeSubmitBtnState(evt);\r\n\r\n  isUrlExist(avatarUrl.value)\r\n  .then((res) => {\r\n    if(res.ok && (res.headers.get('Content-Type').startsWith('image'))) {\r\n      setNewAvatar(res.url)\r\n      .then((res) => {\r\n        profileImage.setAttribute('style', `background-image: url('${res.avatar}')`);\r\n        closePopup(popupTypeNewAvatar);\r\n      })\r\n    } else {\r\n        return Promise.reject({\r\n          errorMessage: `Ошибка в isUrlExist ${res.status}`,\r\n          mimeType: res.headers.get('Content-Type')\r\n      })\r\n    }\r\n})\r\n  .catch((err) => {\r\n    console.log(err.errorMessage);\r\n    if(!err.mimeType.startsWith('image')){\r\n      console.log('По указанному Url не изображение')\r\n    }\r\n  })\r\n  .finally(() => changeSubmitBtnState(evt))\r\n})\r\n\r\neditProfileForm.addEventListener( 'submit', (evt) => {\r\n    handleEditFormSubmit(evt);\r\n} );\r\n\r\nnewPlaceform.addEventListener( 'submit', (evt) => {\r\n  addNewPlace(evt);\r\n} );\r\n\r\nenableValidation(validationConfig);\r\n\r\nPromise.all([initProfileSection(), getInitialCards()])\r\n  .then(([profileRes, cardRes]) => {\r\n    myId = profileRes._id;\r\n\r\n    profileName.textContent = profileRes.name;\r\n    profileDescription.textContent = profileRes.about;\r\n    profileImage.setAttribute('style', `background-image: url('${profileRes.avatar}')`);\r\n\r\n    cardRes.forEach((card) => {\r\n      matchIdResult = myId === card.owner._id;\r\n\r\n      let isLikedByMe = card.likes.some((likeObj) => {\r\n        return likeObj._id === myId\r\n      })\r\n      placesList.append( createCardElem(card.name, card.link, setImageTypePopup, handleLikeClick, card.likes.length, matchIdResult, card._id, isLikedByMe, popupTypeDeleteConfirm, deleteConfirmButton) )\r\n    } );\r\n  })\r\n  .catch((err) => {\r\n    console.log(err);\r\n  });\r\n"],"names":["openPopup","popupElem","classList","add","document","addEventListener","closeOnClickHandle","closeOnEscPressHandle","closePopup","remove","removeEventListener","evt","target","contains","querySelector","key","config","baseUrl","headers","authorization","handleResponse","res","ok","json","Promise","reject","concat","status","createCardElem","name","picture","setImageTypePopup","handleLikeClick","likesQuantityValue","matchIdResult","cardId","isLikedByMe","popupTypeDeleteConfirm","deleteConfirmButton","placesItemClone","content","cloneNode","likeButton","cardImage","cardTitle","deleteButton","likesQuantityElem","createElement","likesContainer","placesItem","textContent","src","alt","setAttribute","toggle","append","style","display","closest","getAttribute","fetch","method","then","catch","err","console","log","unLikeCard","result","likes","length","likeCard","hideInputError","errElement","formField","inputErrorClass","toggleButtonState","containsElement","inactiveButtonClass","ButtonClass","formFieldSelector","button","form","Array","from","querySelectorAll","some","validity","valid","hasInvalid","removeAttribute","clearValidation","configObj","submitButtonSelector","inputSelector","forEach","id","myId","placesList","editProfileForm","forms","newAvatarForm","avatarUrl","link","nameInput","descriptionInput","description","profileImage","profileName","profileDescription","newPlaceform","placeFormField","pictureFormField","buttonOpenEditProfileForm","buttonOpenAddCardForm","popupTypeEdit","popupTypeNewCard","popupTypeImage","popupCaption","popupImage","popupTypeNewAvatar","validationConfig","formSelector","errorClass","changeSubmitBtnState","loadingText","initialText","cardToDelete","getElementById","deleteCard","reset","value","preventDefault","isUrlExist","get","startsWith","errorMessage","mimeType","body","JSON","stringify","avatar","setNewAvatar","url","finally","about","handleEditFormSubmit","owner","_id","newCard","prepend","addNewPlace","patternMismatch","setCustomValidity","validationMessage","showInputError","isValid","setEventListeners","all","_ref","_ref2","profileRes","cardRes","card","likeObj"],"sourceRoot":""}