{"version":3,"file":"main.js","mappings":"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","sources":["webpack://mesto-project-ff/./src/components/modal.js","webpack://mesto-project-ff/./src/api.js","webpack://mesto-project-ff/./src/components/card.js","webpack://mesto-project-ff/./src/validation.js","webpack://mesto-project-ff/./src/index.js"],"sourcesContent":["export { openPopup, closePopup }\r\n\r\nfunction openPopup(popupElem) {\r\n    popupElem.classList.add('popup_is-opened');\r\n    \r\n    document.addEventListener('click', closeOnClickHandle);\r\n    document.addEventListener('keydown', closeOnEscPressHandle);\r\n}\r\n\r\nfunction closePopup(popupElem) {\r\n    popupElem.classList.remove('popup_is-opened');\r\n\r\n    document.removeEventListener('click', closeOnClickHandle);\r\n    document.removeEventListener('keydown', closeOnEscPressHandle);\r\n}\r\n\r\nfunction closeOnClickHandle(evt) {\r\n    if ( evt.target.classList.contains('popup__close') || evt.target.classList.contains('popup') ) closePopup( document.querySelector('.popup_is-opened') );\r\n}\r\n\r\nfunction closeOnEscPressHandle(evt) {\r\n    if (evt.key === 'Escape') closePopup( document.querySelector('.popup_is-opened') );\r\n};\r\n\r\n","export { initProfileSection, getInitialCards, sendProfileData, sendCardData, deleteCard, likeCard, unLikeCard, setNewAvatar, isUrlExist };\r\n\r\nconst config = {\r\n    baseUrl: 'https://nomoreparties.co/v1/wff-cohort-12',\r\n    headers: {\r\n      authorization: 'aefb9d6c-0be1-424f-9825-78d813242522',\r\n      'Content-Type': 'application/json'\r\n    }\r\n  }\r\n\r\nfunction handleResponse(res){\r\n    if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(`Ошибка: ${res.status}`);\r\n}\r\n\r\nfunction initProfileSection() {\r\n    return fetch( `${config.baseUrl}/users/me`, {\r\n        method: 'GET',\r\n        headers: config.headers,\r\n    } )\r\n    .then(handleResponse)\r\n    .catch( (err) => {\r\n        console.log(err);\r\n    } ); \r\n}\r\n\r\nfunction getInitialCards() {\r\n    return fetch( `${config.baseUrl}/cards`, {\r\n        method: 'GET',\r\n        headers: config.headers,\r\n    } )\r\n    .then(handleResponse)\r\n    .catch( (err) => {\r\n        console.log(err);\r\n    } );\r\n}\r\n\r\nfunction sendProfileData(name, about) {\r\n    return fetch(`${config.baseUrl}/users/me`, {\r\n        method: 'PATCH',\r\n        headers: config.headers,\r\n        body: JSON.stringify( {\r\n            name: `${name}`,\r\n            about: `${about}`\r\n        } )\r\n    } )\r\n    .then(handleResponse)\r\n    .catch( (err) => {\r\n        console.log(err);\r\n    } );\r\n}\r\n\r\nfunction sendCardData(name, link) {\r\n    return fetch( `${config.baseUrl}/cards`, {\r\n        method: 'POST',\r\n        headers: config.headers,\r\n        body: JSON.stringify( {\r\n            name: `${name}`,\r\n            link: `${link}`\r\n          } )\r\n    } )\r\n    .then(handleResponse)\r\n    .catch( (err) => {\r\n        console.log(err);\r\n    } );\r\n}\r\n\r\nfunction deleteCard(cardId) {\r\n    return fetch( `${config.baseUrl}/cards/${cardId}`, {\r\n        method: 'DELETE',\r\n        headers: config.headers,\r\n    } )\r\n}\r\n\r\nfunction likeCard(cardId) {\r\n    return fetch( `${config.baseUrl}/cards/likes/${cardId}`, {\r\n        method: 'PUT',\r\n        headers: config.headers,\r\n    } )\r\n    .then(handleResponse)\r\n    .catch( (err) => {\r\n        console.log(err);\r\n    } )\r\n}\r\n\r\nfunction unLikeCard(cardId) {\r\n    return fetch( `${config.baseUrl}/cards/likes/${cardId}`, {\r\n        method: 'DELETE',\r\n        headers: config.headers,\r\n    } )\r\n    .then(handleResponse)\r\n    .catch( (err) => {\r\n        console.log(err);\r\n    } )\r\n}\r\n\r\nfunction setNewAvatar(avatarUrl) {\r\n    return fetch( `${config.baseUrl}/users/me/avatar`, {\r\n        method: 'PATCH',\r\n        headers: config.headers,\r\n        body: JSON.stringify( {\r\n            avatar: `${avatarUrl}`\r\n        } )\r\n    } )\r\n    .then(handleResponse)\r\n    .catch( (err) => {\r\n        console.log(err);\r\n    } )\r\n}\r\n\r\nfunction isUrlExist(avatarUrl) {\r\n    return fetch( `${avatarUrl}`, {\r\n        method: 'HEAD'\r\n    } )\r\n}\r\n","export { createCardElem, handleLikeClick };\r\nimport { openPopup } from './modal';\r\nimport { likeCard, unLikeCard } from '../api';\r\n\r\nfunction createCardElem( name, picture, setImageTypePopup, handleLikeClick, likesQuantityValue, matchIdResult, cardId, isLikedByMe, popupTypeDeleteConfirm, deleteConfirmButton) {\r\n    const cardTemplate = document.querySelector('#card-template').content;\r\n    const placesItemClone = cardTemplate.cloneNode('#card-template');\r\n    const likeButton = placesItemClone.querySelector('.card__like-button');\r\n    const cardImage = placesItemClone.querySelector('.card__image');\r\n    const cardTitle = placesItemClone.querySelector('.card__title');\r\n    const deleteButton = placesItemClone.querySelector('.card__delete-button');\r\n    const likesQuantityElem = document.createElement('div');\r\n    const likesContainer = placesItemClone.querySelector('.card__likes-container');\r\n    const placesItem = placesItemClone.querySelector('.places__item')\r\n\r\n    cardTitle.textContent = name;\r\n    cardImage.src = picture;\r\n    cardImage.alt = name;\r\n\r\n    placesItem.setAttribute('id', `${cardId}`)\r\n\r\n    if (isLikedByMe) likeButton.classList.toggle('card__like-button_is-active')\r\n\r\n    if (likesQuantityValue) {\r\n        likesQuantityElem.textContent = likesQuantityValue;\r\n        likesContainer.append(likesQuantityElem);\r\n    }\r\n\r\n    if (matchIdResult) {\r\n        deleteButton.style.display = 'inline-block';\r\n    }\r\n\r\n    deleteButton.addEventListener( 'click', (evt) => {\r\n        const cardToDelete = evt.target.closest('li');\r\n        const cardId = cardToDelete.getAttribute('id');\r\n\r\n        openPopup(popupTypeDeleteConfirm);\r\n        deleteConfirmButton.setAttribute('data-card-to-delete-id', `${cardId}`)\r\n    } );\r\n\r\n    cardImage.addEventListener('click', setImageTypePopup);\r\n    likeButton.addEventListener( 'click', (evt) => handleLikeClick(evt, cardId, likesQuantityElem, likesContainer) );\r\n    \r\n    return placesItemClone;\r\n}\r\n\r\nfunction handleLikeClick(evt, cardId, likesQuantityElem, likesContainer) {\r\n    if( !evt.target.classList.contains('card__like-button_is-active') ) {\r\n        likeCard(cardId)\r\n        .then( (result) => {\r\n            evt.target.classList.toggle('card__like-button_is-active');\r\n\r\n            if (result.likes.length === 1) {\r\n                likesContainer.append(likesQuantityElem);\r\n            };\r\n\r\n            likesQuantityElem.textContent = result.likes.length;\r\n        } )\r\n        .catch( (err) => {\r\n            console.log(err);\r\n        } )\r\n    } else {\r\n        unLikeCard(cardId)\r\n        .then( (result) => {\r\n            evt.target.classList.toggle('card__like-button_is-active');\r\n\r\n            if (result.likes.length === 0) {\r\n                likesQuantityElem.remove();\r\n            };\r\n\r\n            likesQuantityElem.textContent = result.likes.length;\r\n        } )\r\n        .catch( (err) => {\r\n            console.log(err);\r\n        } )\r\n    }\r\n  }\r\n\r\n\r\n\r\n","export { enableValidation, clearValidation }\r\n\r\nfunction showInputError(errElement, formField, inputErrorClass) {\r\n    formField.classList.add(inputErrorClass);\r\n\r\n    if (formField.validity.patternMismatch) {\r\n        formField.setCustomValidity( formField.getAttribute('data-error-message') );\r\n    } else {\r\n        formField.setCustomValidity('');\r\n    }\r\n\r\n    errElement.textContent = formField.validationMessage;\r\n}\r\n\r\nfunction hideInputError(errElement, formField, inputErrorClass) {\r\n    formField.classList.remove(inputErrorClass);\r\n    errElement.textContent = '';\r\n}\r\n\r\nfunction hasInvalid(form, formFieldSelector) {\r\n    const formFieldsArr = Array.from( form.querySelectorAll(`.${formFieldSelector}`) );\r\n\r\n    return formFieldsArr.some( (formField) => {\r\n        if (!formField.validity.valid) {\r\n            return true;\r\n        };\r\n    } )\r\n}\r\n\r\nfunction toggleButtonState(containsElement, inactiveButtonClass, ButtonClass, formFieldSelector) {\r\n    const button = containsElement.querySelector(`.${ButtonClass}`);\r\n\r\n    if ( hasInvalid(containsElement, formFieldSelector) ) {\r\n        button.classList.add(inactiveButtonClass);\r\n        button.setAttribute('disabled', '');\r\n    } else {\r\n        button.classList.remove(inactiveButtonClass);\r\n        button.removeAttribute('disabled', '');\r\n    }\r\n}\r\n\r\nfunction isValid(form, formField, inputErrorClass) {\r\n    const errElement = form.querySelector(`.${formField.id}-error`);\r\n    \r\n    if(formField.validity.valid) {\r\n        hideInputError(errElement, formField, inputErrorClass);\r\n    } else {\r\n        showInputError(errElement, formField, inputErrorClass);\r\n    }\r\n}\r\n\r\nfunction setEventListeners(form, inputErrorClass, inputSelector, inactiveButtonClass, ButtonClass) {\r\n    const formFieldsList = form.querySelectorAll(`.${inputSelector}`);\r\n\r\n    formFieldsList.forEach( (formField) => formField.addEventListener( 'input', () => {\r\n        isValid(form, formField, inputErrorClass);\r\n        toggleButtonState(form, inactiveButtonClass, ButtonClass, inputSelector);\r\n    } ) )\r\n}\r\n\r\nfunction enableValidation(configObj) {\r\n    const formsArr = document.querySelectorAll(`.${configObj.formSelector}`);\r\n\r\n    formsArr.forEach( (form) => {\r\n        setEventListeners(form, configObj.inputErrorClass, configObj.inputSelector, configObj.inactiveButtonClass, configObj.submitButtonSelector)\r\n    } )\r\n}\r\n\r\nfunction clearValidation(form, configObj) {\r\n    const formFieldsList = form.querySelectorAll(`.${configObj.inputSelector}`);\r\n\r\n    toggleButtonState(form, configObj.inactiveButtonClass, configObj.submitButtonSelector, configObj.inputSelector)\r\n    formFieldsList.forEach( (formField) => {\r\n        const errElement = form.querySelector(`.${formField.id}-error`);\r\n        \r\n        hideInputError(errElement, formField, configObj.inputErrorClass);\r\n    } )\r\n}","import '../src/pages/index.css';\r\nimport { createCardElem, handleLikeClick } from './components/card';\r\nimport { openPopup, closePopup } from './components/modal';\r\nimport { enableValidation, clearValidation } from './validation';\r\nimport { initProfileSection, getInitialCards, sendProfileData, sendCardData, setNewAvatar, isUrlExist, deleteCard } from './api';\r\n\r\nconst placesList = document.querySelector('.places__list');\r\nconst editProfileForm = document.forms['edit-profile'];\r\nconst newAvatarForm = document.forms['new-avatar'];\r\nconst avatarUrl = newAvatarForm.link;\r\nconst nameInput = editProfileForm.name;\r\nconst descriptionInput = editProfileForm.description;\r\nconst profileImage = document.querySelector('.profile__image');\r\nconst profileName = document.querySelector('.profile__title');\r\nconst profileDescription = document.querySelector('.profile__description');\r\nconst newPlaceform = document.forms['new-place'];\r\nconst placeFormField = newPlaceform['place-name'];\r\nconst pictureFormField = newPlaceform.link;\r\nconst buttonOpenEditProfileForm = document.querySelector('.profile__edit-button');\r\nconst buttonOpenAddCardForm = document.querySelector('.profile__add-button');\r\nconst popupTypeEdit = document.querySelector('.popup_type_edit');\r\nconst popupTypeNewCard = document.querySelector('.popup_type_new-card');\r\nconst popupTypeImage = document.querySelector('.popup_type_image');\r\nconst popupCaption = document.querySelector('.popup__caption');\r\nconst popupImage = document.querySelector('.popup__image');\r\nconst popupTypeNewAvatar = document.querySelector('.popup_type_new-avatar');\r\nconst popupTypeDeleteConfirm = document.querySelector('.popup_type_delete-confirm');\r\nconst deleteConfirmButton = document.querySelector('.popup__button_delete-confirm');\r\nconst validationConfig = {\r\n  formSelector: 'popup__form',\r\n  inputSelector: 'popup__input',\r\n  submitButtonSelector: 'popup__button',\r\n  inactiveButtonClass: 'popup__button_disabled',\r\n  inputErrorClass: 'popup__input_invalid',\r\n  errorClass: 'popup__input-error',\r\n}\r\nlet myId;\r\nlet matchIdResult;\r\n\r\nfunction deleteListItem(evt) {\r\n  const cardId = evt.target.getAttribute('data-card-to-delete-id');\r\n  const cardToDelete = document.getElementById(`${cardId}`); //здесь не разобрался почему не работает document.querySelector(`#${cardId}`), поэтому оставил getElementById\r\n  \r\n  deleteCard(cardId)\r\n  .then( (res) => {\r\n      if (res.ok) {\r\n        cardToDelete.remove();\r\n        closePopup(popupTypeDeleteConfirm);\r\n      } else {\r\n          return Promise.reject(`Ошибка: ${res.status}`);\r\n      }\r\n  } )\r\n  .catch( (err) => {\r\n      console.log(err);\r\n  } )\r\n};\r\n\r\nfunction setImageTypePopup(evt) {\r\n  popupImage.src = evt.target.src;\r\n  popupImage.alt = evt.target.alt;\r\n  popupCaption.textContent = evt.target.alt;\r\n  openPopup(popupTypeImage);\r\n}\r\n\r\nfunction addNewPlace(evt) {\r\n  changeSubmitBtnState(evt);\r\n\r\n  sendCardData(placeFormField.value, pictureFormField.value)\r\n  .then( (result) => {\r\n    matchIdResult = myId === result.owner._id;\r\n    const cardId = result._id;\r\n    const newCard = createCardElem( result.name, result.link, setImageTypePopup, handleLikeClick, 0, matchIdResult, cardId, false, popupTypeDeleteConfirm, deleteConfirmButton);\r\n    placesList.prepend(newCard)\r\n  } )\r\n  .catch( (err) => {\r\n      console.log(err);\r\n    } )\r\n  .finally( () => changeSubmitBtnState(evt) );\r\n\r\n  evt.target.reset();\r\n  evt.preventDefault();\r\n  closePopup(popupTypeNewCard);\r\n}\r\n\r\nfunction initEditProfileForm() {\r\n  nameInput.value = profileName.textContent;\r\n  descriptionInput.value = profileDescription.textContent;\r\n\r\n  clearValidation(editProfileForm, validationConfig);\r\n}\r\n\r\nfunction handleEditFormSubmit(evt) {\r\n  changeSubmitBtnState(evt);\r\n\r\n  sendProfileData(nameInput.value, descriptionInput.value)\r\n  .then( (result) => {\r\n    profileName.textContent = result.name;\r\n    profileDescription.textContent = result.about;\r\n  } )\r\n  .catch( (err) => {\r\n      console.log(err);\r\n    } )\r\n  .finally( () => changeSubmitBtnState(evt) );\r\n  \r\n  evt.preventDefault();\r\n\r\n  closePopup(popupTypeEdit);\r\n}\r\n\r\nfunction changeSubmitBtnState(evt) {\r\n  const loadingText = evt.target.querySelector(`.popup__button_loading-text`);\r\n  const initialText = evt.target.querySelector(`.popup__button_initial-text`);\r\n  loadingText.classList.toggle('popup_button_text-is-visible');\r\n  initialText.classList.toggle('popup_button_text-is-visible');\r\n}\r\n\r\ndeleteConfirmButton.addEventListener('click', deleteListItem);\r\n\r\nplacesList.addEventListener( 'click', (evt) => {\r\n    if ( evt.target.classList.contains('card__image') ) {\r\n        openPopup(popupTypeImage);\r\n    }\r\n} )\r\n\r\nprofileImage.addEventListener( 'click', () => {\r\n  clearValidation(newAvatarForm, validationConfig);\r\n  newAvatarForm.reset();\r\n  openPopup(popupTypeNewAvatar);\r\n} );\r\n\r\nbuttonOpenEditProfileForm.addEventListener( 'click', () => {\r\n  initEditProfileForm(nameInput, profileName, descriptionInput, profileDescription);\r\n  openPopup(popupTypeEdit);\r\n} );\r\n\r\nbuttonOpenAddCardForm.addEventListener( 'click', () => {\r\nopenPopup(popupTypeNewCard);\r\nnewPlaceform.reset();\r\nclearValidation(newPlaceform, validationConfig)\r\n} );\r\n\r\nnewAvatarForm.addEventListener( 'submit', (evt) => {\r\n  evt.preventDefault();\r\n  changeSubmitBtnState(evt);\r\n\r\n  isUrlExist(avatarUrl.value)\r\n  .then( (res) => {\r\n    if ( res.ok && ( res.headers.get('Content-Type').startsWith('image') ) ) {\r\n      setNewAvatar(res.url)\r\n      .then( (res) => {\r\n        profileImage.setAttribute('style', `background-image: url('${res.avatar}')`);\r\n        closePopup(popupTypeNewAvatar);\r\n      } )\r\n    } else {\r\n        return Promise.reject( {\r\n          errorMessage: `Ошибка в isUrlExist ${res.status}`,\r\n          mimeType: res.headers.get('Content-Type')\r\n      } )\r\n    }\r\n} )\r\n  .catch( (err) => {\r\n    console.log(err.errorMessage);\r\n    if (!err.mimeType.startsWith('image')){\r\n      console.log('По указанному Url не изображение');\r\n    }\r\n  } )\r\n  .finally( () => changeSubmitBtnState(evt) )\r\n} )\r\n\r\neditProfileForm.addEventListener( 'submit', (evt) => {\r\n    handleEditFormSubmit(evt);\r\n} );\r\n\r\nnewPlaceform.addEventListener( 'submit', (evt) => {\r\n  addNewPlace(evt);\r\n} );\r\n\r\nenableValidation(validationConfig);\r\n\r\nPromise.all( [ initProfileSection(), getInitialCards() ] )\r\n  .then( ( [profileRes, cardRes] ) => {\r\n    myId = profileRes._id;\r\n\r\n    profileName.textContent = profileRes.name;\r\n    profileDescription.textContent = profileRes.about;\r\n    profileImage.setAttribute('style', `background-image: url('${profileRes.avatar}')`);\r\n\r\n    cardRes.forEach( (card) => {\r\n      matchIdResult = myId === card.owner._id;\r\n\r\n      let isLikedByMe = card.likes.some( (likeObj) => {\r\n        return likeObj._id === myId\r\n      } )\r\n      placesList.append( createCardElem(card.name, card.link, setImageTypePopup, handleLikeClick, card.likes.length, matchIdResult, card._id, isLikedByMe, popupTypeDeleteConfirm, deleteConfirmButton) )\r\n    } );\r\n  } )\r\n  .catch( (err) => {\r\n    console.log(err);\r\n  } );\r\n"],"names":["openPopup","popupElem","classList","add","document","addEventListener","closeOnClickHandle","closeOnEscPressHandle","closePopup","remove","removeEventListener","evt","target","contains","querySelector","key","config","baseUrl","headers","authorization","handleResponse","res","ok","json","Promise","reject","concat","status","createCardElem","name","picture","setImageTypePopup","handleLikeClick","likesQuantityValue","matchIdResult","cardId","isLikedByMe","popupTypeDeleteConfirm","deleteConfirmButton","placesItemClone","content","cloneNode","likeButton","cardImage","cardTitle","deleteButton","likesQuantityElem","createElement","likesContainer","placesItem","textContent","src","alt","setAttribute","toggle","append","style","display","closest","getAttribute","fetch","method","then","catch","err","console","log","unLikeCard","result","likes","length","likeCard","hideInputError","errElement","formField","inputErrorClass","toggleButtonState","containsElement","inactiveButtonClass","ButtonClass","formFieldSelector","button","form","Array","from","querySelectorAll","some","validity","valid","hasInvalid","removeAttribute","clearValidation","configObj","formFieldsList","inputSelector","submitButtonSelector","forEach","id","myId","placesList","editProfileForm","forms","newAvatarForm","avatarUrl","link","nameInput","descriptionInput","description","profileImage","profileName","profileDescription","newPlaceform","placeFormField","pictureFormField","buttonOpenEditProfileForm","buttonOpenAddCardForm","popupTypeEdit","popupTypeNewCard","popupTypeImage","popupCaption","popupImage","popupTypeNewAvatar","validationConfig","formSelector","errorClass","changeSubmitBtnState","loadingText","initialText","cardToDelete","getElementById","deleteCard","reset","value","preventDefault","isUrlExist","get","startsWith","errorMessage","mimeType","body","JSON","stringify","avatar","setNewAvatar","url","finally","about","handleEditFormSubmit","owner","_id","newCard","prepend","addNewPlace","patternMismatch","setCustomValidity","validationMessage","showInputError","isValid","setEventListeners","all","_ref","_ref2","profileRes","cardRes","card","likeObj"],"sourceRoot":""}